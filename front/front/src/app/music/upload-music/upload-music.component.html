<div class="upload-container">
  <h2>Postavljanje muzičkog sadržaja</h2>
  <form [formGroup]="uploadForm" (ngSubmit)="submit()" class="upload-form">
    <label for="title">Naziv pesme:</label>
    <input id="title" formControlName="title" type="text" placeholder="Unesite naziv pesme" />

    <label>Žanrovi:</label>
    <div class="checkbox-group">
      <div *ngFor="let g of genres">
        <input type="checkbox" [value]="g" (change)="onCheckboxChange($event)" />
        <span>{{ g }}</span>
      </div>
    </div>

    <label for="artist">Izaberite umetnika:</label>
    <select id="artist" formControlName="artist">
      <option value="" disabled selected>Izaberite umetnika</option>
      <option *ngFor="let a of artists" [value]="a.artistId">{{ a.name }}</option>
    </select>

    <label for="album">Izaberite album (opciono):</label>
    <select id="album" formControlName="album">
      <option value="" selected>Nema albuma</option>
      <option *ngFor="let al of albums" [value]="al.albumId">{{ al.name }}</option>
    </select>

    <label for="album">Kreirajte novi album (opciono):</label>
    <input type="text" formControlName="newAlbumName" placeholder="Unesite novo ime albuma">

    <div *ngIf="uploadForm.get('newAlbumName')?.enabled">
      <label for="newAlbumGenre">Žanr novog albuma:</label>
      <select id="newAlbumGenre" formControlName="newAlbumGenre">
        <option value="" disabled selected>Izaberite žanr albuma</option>
        <option *ngFor="let g of genres" [value]="g">{{ g }}</option>
      </select>
    </div>

    <label for="file">Fajl pesme:</label>
    <input type="file" id="file" (change)="onFileSelected($event)" />
    <div class="file-error" *ngIf="fileError">{{ fileError }}</div>

    <button type="submit" [disabled]="!uploadForm.valid">Postavi pesmu</button>
  </form>
</div>